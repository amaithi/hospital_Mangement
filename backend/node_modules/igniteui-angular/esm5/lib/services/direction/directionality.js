import { __decorate, __param } from "tslib";
import { Injectable, Inject, InjectionToken, inject } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import * as i0 from "@angular/core";
/**
 * Injection token is used to inject the document into Directionality
 * which factory could be faked for testing purposes.
 *
 * We can't provide and mock the DOCUMENT token from platform-browser because configureTestingModule
 * allows override of the default providers, directive, pipes, modules of the test injector
 * which causes errors.
 *
 * @hidden
 */
export var DIR_DOCUMENT = new InjectionToken('dir-doc', {
    providedIn: 'root',
    factory: DIR_DOCUMENT_FACTORY
});
/**
 * @hidden
 */
export function DIR_DOCUMENT_FACTORY() {
    return inject(DOCUMENT);
}
/**
 * @hidden
 *
 * Bidirectional service that extracts the value of the direction attribute on the body or html elements.
 *
 * The dir attribute over the body element takes precedence.
 */
var IgxDirectionality = /** @class */ (function () {
    function IgxDirectionality(document) {
        this._document = document;
        var bodyDir = this._document.body ? this._document.body.dir : null;
        var htmlDir = this._document.documentElement ? this._document.documentElement.dir : null;
        var extractedDir = bodyDir || htmlDir;
        this._dir = (extractedDir === 'ltr' || extractedDir === 'rtl') ? extractedDir : 'ltr';
    }
    Object.defineProperty(IgxDirectionality.prototype, "value", {
        get: function () {
            return this._dir;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(IgxDirectionality.prototype, "document", {
        get: function () {
            return this._document;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(IgxDirectionality.prototype, "rtl", {
        get: function () {
            return this._dir === 'rtl';
        },
        enumerable: true,
        configurable: true
    });
    IgxDirectionality.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DIR_DOCUMENT,] }] }
    ]; };
    IgxDirectionality.ɵprov = i0.ɵɵdefineInjectable({ factory: function IgxDirectionality_Factory() { return new IgxDirectionality(i0.ɵɵinject(DIR_DOCUMENT)); }, token: IgxDirectionality, providedIn: "root" });
    IgxDirectionality = __decorate([
        Injectable({
            providedIn: 'root'
        }),
        __param(0, Inject(DIR_DOCUMENT))
    ], IgxDirectionality);
    return IgxDirectionality;
}());
export { IgxDirectionality };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlyZWN0aW9uYWxpdHkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9pZ25pdGV1aS1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL2RpcmVjdGlvbi9kaXJlY3Rpb25hbGl0eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7O0FBTzNDOzs7Ozs7Ozs7R0FTRztBQUNILE1BQU0sQ0FBQyxJQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBVyxTQUFTLEVBQUU7SUFDaEUsVUFBVSxFQUFFLE1BQU07SUFDbEIsT0FBTyxFQUFFLG9CQUFvQjtDQUNoQyxDQUFDLENBQUM7QUFFSDs7R0FFRztBQUNILE1BQU0sVUFBVSxvQkFBb0I7SUFDaEMsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUlIO0lBZ0JJLDJCQUFrQyxRQUFRO1FBQ3RDLElBQUksQ0FBQyxTQUFTLEdBQWEsUUFBUSxDQUFDO1FBQ3BDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNyRSxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDM0YsSUFBTSxZQUFZLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQztRQUN4QyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsWUFBWSxLQUFLLEtBQUssSUFBSSxZQUFZLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQzFGLENBQUM7SUFsQkQsc0JBQVcsb0NBQUs7YUFBaEI7WUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBVyx1Q0FBUTthQUFuQjtZQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUVELHNCQUFXLGtDQUFHO2FBQWQ7WUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO1FBQy9CLENBQUM7OztPQUFBOztnREFFWSxNQUFNLFNBQUMsWUFBWTs7O0lBaEJ2QixpQkFBaUI7UUFIN0IsVUFBVSxDQUFDO1lBQ1IsVUFBVSxFQUFFLE1BQU07U0FDckIsQ0FBQztRQWlCZSxXQUFBLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQTtPQWhCeEIsaUJBQWlCLENBdUI3Qjs0QkEvREQ7Q0ErREMsQUF2QkQsSUF1QkM7U0F2QlksaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0LCBJbmplY3Rpb25Ub2tlbiwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgdHlwZSBEaXJlY3Rpb24gPSAnbHRyJyB8ICdydGwnO1xuXG4vKipcbiAqIEluamVjdGlvbiB0b2tlbiBpcyB1c2VkIHRvIGluamVjdCB0aGUgZG9jdW1lbnQgaW50byBEaXJlY3Rpb25hbGl0eVxuICogd2hpY2ggZmFjdG9yeSBjb3VsZCBiZSBmYWtlZCBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqXG4gKiBXZSBjYW4ndCBwcm92aWRlIGFuZCBtb2NrIHRoZSBET0NVTUVOVCB0b2tlbiBmcm9tIHBsYXRmb3JtLWJyb3dzZXIgYmVjYXVzZSBjb25maWd1cmVUZXN0aW5nTW9kdWxlXG4gKiBhbGxvd3Mgb3ZlcnJpZGUgb2YgdGhlIGRlZmF1bHQgcHJvdmlkZXJzLCBkaXJlY3RpdmUsIHBpcGVzLCBtb2R1bGVzIG9mIHRoZSB0ZXN0IGluamVjdG9yXG4gKiB3aGljaCBjYXVzZXMgZXJyb3JzLlxuICpcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNvbnN0IERJUl9ET0NVTUVOVCA9IG5ldyBJbmplY3Rpb25Ub2tlbjxEb2N1bWVudD4oJ2Rpci1kb2MnLCB7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgIGZhY3Rvcnk6IERJUl9ET0NVTUVOVF9GQUNUT1JZXG59KTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBESVJfRE9DVU1FTlRfRkFDVE9SWSgpOiBEb2N1bWVudCB7XG4gICAgcmV0dXJuIGluamVjdChET0NVTUVOVCk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICpcbiAqIEJpZGlyZWN0aW9uYWwgc2VydmljZSB0aGF0IGV4dHJhY3RzIHRoZSB2YWx1ZSBvZiB0aGUgZGlyZWN0aW9uIGF0dHJpYnV0ZSBvbiB0aGUgYm9keSBvciBodG1sIGVsZW1lbnRzLlxuICpcbiAqIFRoZSBkaXIgYXR0cmlidXRlIG92ZXIgdGhlIGJvZHkgZWxlbWVudCB0YWtlcyBwcmVjZWRlbmNlLlxuICovXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIElneERpcmVjdGlvbmFsaXR5IHtcbiAgICBwcml2YXRlIF9kaXI6IERpcmVjdGlvbjtcbiAgICBwcml2YXRlIF9kb2N1bWVudDogRG9jdW1lbnQ7XG5cbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IERpcmVjdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkb2N1bWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvY3VtZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcnRsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlyID09PSAncnRsJztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihASW5qZWN0KERJUl9ET0NVTUVOVCkgZG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnQgPSA8RG9jdW1lbnQ+ZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGJvZHlEaXIgPSB0aGlzLl9kb2N1bWVudC5ib2R5ID8gdGhpcy5fZG9jdW1lbnQuYm9keS5kaXIgOiBudWxsO1xuICAgICAgICBjb25zdCBodG1sRGlyID0gdGhpcy5fZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gdGhpcy5fZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpciA6IG51bGw7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RlZERpciA9IGJvZHlEaXIgfHwgaHRtbERpcjtcbiAgICAgICAgdGhpcy5fZGlyID0gKGV4dHJhY3RlZERpciA9PT0gJ2x0cicgfHwgZXh0cmFjdGVkRGlyID09PSAncnRsJykgPyBleHRyYWN0ZWREaXIgOiAnbHRyJztcbiAgICB9XG59XG4iXX0=